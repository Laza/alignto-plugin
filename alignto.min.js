// alignTo plugin :: http://lazaworx.com/alignto-plugin/
var ALIGN_LEFT=ALIGN_TOP=0,ALIGN_CENTER=ALIGN_MIDDLE=1,ALIGN_RIGHT=ALIGN_BOTTOM=2;
(function(b){b.fn.alignTo=function(c,a){a=b.extend({},b.fn.alignTo.defaults,a);"string"===typeof c&&(c=b(c));if(c instanceof b&&c.length){var d=c.offset(),g=c.outerWidth(),h=c.outerHeight();return b(this).each(function(){var e=b(this).outerWidth(),f=b(this).outerHeight(),i=Math.round(d.left+a.toX*g/2+(a.toX-1)*a.gap);ry=Math.round(d.top+a.toY*h/2+(a.toY-1)*a.gap);l=Math.round(i-a.posX*e/2);t=Math.round(ry-a.posY*f/2);0>t?a.toX!==ALIGN_CENTER?t=0:a.toY!==ALIGN_BOTTOM&&(t=d.top+c.outerHeight()+a.gap):
t+f>b(window).height()&&(a.toX!==ALIGN_CENTER?t=b(window).height()-f:a.toY!==ALIGN_TOP&&(t=d.top-f-a.gap));0>l?a.toY!==ALIGN_MIDDLE?l=0:a.toX!=ALIGN_RIGHT&&(l=d.left+c.outerWidth()+a.gap):l+e>b(window).width()&&(a.toY!==ALIGN_MIDDLE?l=b(window).width()-e:a.toX!=ALIGN_LEFT&&(l=d.left-e-a.gap));b(this).css({position:"absolute",left:l,top:t})})}};b.fn.alignTo.defaults={gap:5,posX:ALIGN_CENTER,posY:ALIGN_BOTTOM,toX:ALIGN_CENTER,toY:ALIGN_TOP}})(jQuery);
